var data_artikel,aktif,cari=!1,daftar_isi=!1,banner_data=[],kategori=new Array;let img=[];function awal(a){data_artikel=a,banner(a),buat_kategori(a),artikel_samping(a),baca_juga(a)}function isInViewport(a){var t=$(a).offset().top,e=t+$(a).outerHeight(),r=$(window).scrollTop(),i=r+$(window).height();return e>r&&t<i}function lazy_load(){$(".baca-artikel img").each(function(a,t){let e=$(t).attr("src"),r=$(t).parent().attr("href"),i=e.search("blogspot.com");if(void 0!==e&&void 0!==r&&-1!=i){img.push(t);let a=$(t).attr("src");a=a.replace(a.split("/")[7],"s40"),$(t).attr("data-src",$(t).attr("src")),$(t).attr("src",a)}}),$(window).scroll(function(a){0!==img.length?img.forEach(function(a,t){isInViewport(a)&&($(a).attr("src",$(a).attr("data-src")),$(a).attr("data-src",""),img.splice(t,1))}):$(window).off()})}function besarkan(a,t){return a.replace("s72-c","s"+t)}function banner(a){a.feed.entry.length;for(var t=0;t<5;++t){var e=Math.floor(87*Math.random()+0);-1==banner_data.indexOf(e)?(banner_data.push(e),0==t?($("#gambar-besar").css("background-image","url("+besarkan(a.feed.entry[e].media$thumbnail.url,500)+")"),$("#banner-besar h3").text(a.feed.entry[e].title.$t),$("#banner-besar").parent().attr("href",a.feed.entry[e].link[4].href)):($("#banner"+t+" .gambar-kecil").css("background-image","url("+besarkan(a.feed.entry[e].media$thumbnail.url,300)+")"),$("#banner"+t).attr("href",a.feed.entry[e].link[4].href),$("#banner"+t+" h3").text(a.feed.entry[e].title.$t))):--t}}function artikel_samping(a){for(var t=a.feed.entry.length,e=new Array,r=0;r<10;++r){var i=Math.floor(Math.random()*t+0);-1===e.indexOf(i)?e.push(i):-1!==e.indexOf(i)&&--r}for(var n=0;n<e.length;++n){var s=a.feed.entry[e[n]].link[4].href,o=a.feed.entry[e[n]].link[4].title,l="https://cdn.jsdelivr.net/gh/prayogo17/webaikv2@24/webaik-logo-min.png";void 0===a.feed.entry[e[n]].media$thumbnail.url&&(l=a.feed.entry[e[n]].media$thumbnail.url),$("#daftar-artikel-samping").append('<li class="list-artikel"> <a href="'+s+'"><div class="gambar-list-artikel" style="background-image: url('+l+')"></div><h3 class="judul-list-artikel">'+o+"</h3></a></li>")}}function buat_kategori(a){for(var t=a.feed.entry.length,e=a.feed.category.length,r=0;r<e;++r){for(var i=[],n=0;n<t;++n)try{a.feed.entry[n].category[0].term===a.feed.category[r].term&&i.push(n)}catch(a){}kategori[a.feed.category[r].term]=i}}function tutupcari(){cari=!1,$(window).width()<=1030?$("#cari").hide():($("#cari").show(),$("#penutup").hide(),$("#cari").css({transform:"translateY(-130px)"}))}function bukacari(){cari=!0,$(window).width()<=1030?($("#cari").show(),$("#cari input").focus()):($("#cari").show(),$("#penutup").show(),$("#cari input").focus(),$("#cari").css({transform:"translateY(56px)"}))}function iklan_manual(){$(window).width()>=1250?$("#pulsa").append('<a href="http://bit.ly/2Qpc9Q3" target="_blank"><img  src="https://cdn.jsdelivr.net/gh/prayogo17/hosting/pulsa2-min.png"/></a>'):$("#pulsa").append('<a href="http://bit.ly/2Qpc9Q3" target="_blank"><img  src="https://cdn.jsdelivr.net/gh/prayogo17/hosting/pulsa3-min.png"/></a>')}function daftar_isi2(){$("#daftar-isi").prepend("<div class='daftar-judul'><span>ISI TULISAN</span><button>Tampilkan</button></div>"),$("#daftar-isi").css("display","table"),$(document).on("click","#daftar-isi button",function(){daftar_isi?(daftar_isi=!1,$("#daftar-isi ul").hide(),$("#daftar-isi button").text("Tampilkan")):(daftar_isi=!0,$("#daftar-isi ul").show(),$("#daftar-isi button").text("Tutup"))})}function preview_header(){$(".navbar-nav li").hover(function(){aktif=$(this),$(".navlist-active").removeClass("navlist-active"),tampilkan_preview($(this).text()),aktif.addClass("navlist-active"),$("#preview-konten").css({top:"400px"})},function(){$(".navlist-active").removeClass("navlist-active"),$("#preview-konten").css({top:"0px"})}),$("#preview-konten").hover(function(){aktif.addClass("navlist-active"),$("#preview-konten").css({top:"400px"})},function(){$(".navlist-active").removeClass("navlist-active"),$("#preview-konten").css({top:"0px"})})}function tampilkan_preview(a){$("#preview-konten").empty();for(var t=0;t<5;++t){var e=data_artikel.feed.entry[kategori[a.toLowerCase()][t]].link[4].href,r=besarkan(data_artikel.feed.entry[kategori[a.toLowerCase()][t]].media$thumbnail.url,300),i=data_artikel.feed.entry[kategori[a.toLowerCase()][t]].title.$t;$("#preview-konten").append('<a href="'+e+'"> <div style="background-image: url('+r+');" class="preview-artikel"><div class="preview-gambar"></div><h2>'+i+"</h2></div></a>")}}function tinggi_sedebar(){$("#daftar-artikel").height()>$("#sidebar").height()&&$("#sidebar").css("height",$("#daftar-artikel").height()+"px"),setInterval(function(){$("#daftar-artikel").height()>$("#sidebar").height()&&$("#sidebar").css("height",$("#daftar-artikel").height()+"px")},5e3)}function index_donasi(a){var t=["covid","plastik","sampah","lingkungan","apd","medis","corona","musholla","air","kebakaran","asap","guru","gaza","muhammad","bencana","banjir","gempa","tsunami","zakat","masjid","pesantren","palestina","mualaf","muslim","islam","dhuafa","suriah","syam","pasien","rumah sakit","qur'an","al-qur'an","al qur'an","quran","sumur"],e=0;a:for(var r=0;r<30;++r)for(var i=Math.floor(Math.random()*a.length),n=a[i].judul.toLowerCase(),s=0;s<t.length;++s)if(-1!=n.search(t[s])){e=i;break a}return e}function baca_juga(a){for(var t=$(".label-name").first().text().toLowerCase(),e=kategori[t].length,r=new Array,i=0;i<5;++i){var n=Math.floor(Math.random()*e+0);-1===r.indexOf(n)?r.push(n):-1!==r.indexOf(n)&&--i}$("#read-more").append("<ul></ul>");for(var s=0;s<r.length;++s){var o=a.feed.entry[kategori[t][r[s]]].link[4].href,l=a.feed.entry[kategori[t][r[s]]].link[4].title;if($("#read-more ul").append('<li><a  href="'+o+'">'+l+"</a></li>"),4==s)break}$("#read-more").css("display","block")}function formatRupiah(a,t){var e=a.replace(/[^,\d]/g,"").toString().split(","),r=e[0].length%3,i=e[0].substr(0,r),n=e[0].substr(r).match(/\d{3}/gi);return n&&(separator=r?".":"",i+=separator+n.join(".")),i=null!=e[1]?i+","+e[1]:i,null==t?i:i?"Rp."+i:""}function donasi(){$.ajax({method:"GET",url:"https://api.webaik.com",dataType:"json"}).done(function(a){var t=index_donasi(a);$(".donasi a").attr("href",a[t].url),$(".gambar-donasi").css("background-image","url("+a[t].gambar+")"),$(".judul-donasi").text(a[t].judul),$(".penyelenggara").text(a[t].penyelenggara),$(".penyelenggara-icon").css("background-image","url("+a[t].label_gambar+")"),"0"==a[t].sisa_hari?$(".hari").text("Tidak di tentukan"):$(".hari").text(a[t].sisa_hari+" hari lagi"),"2500000000000"===a[t].target_donasi?$(".terkumpul").html("<b>"+formatRupiah(a[t].donasi_sekarang)+"</b>"):$(".terkumpul").html("<b>"+formatRupiah(a[t].donasi_sekarang,!0)+"</b> dari target "+formatRupiah(a[t].target_donasi,!0)),$(".wrap-donasi").show()})}$(document).ready(function(){donasi(),iklan_manual(),tinggi_sedebar(),preview_header(),daftar_isi2()}),$(document).on("click",".icon-search, .icon-close",function(){cari?tutupcari():bukacari()}),$(document).on("click","#penutup",function(){tutupcari()}),lazy_load();
